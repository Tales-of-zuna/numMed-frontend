<template>
  <v-container grid-list-xs>
    <!-- {{ orders }} -->
    <v-row
      ><v-col cols="4"
        ><v-card>
          <v-card-title primary-title> –°–∞–π–Ω —É—É, Zuna! üéâ</v-card-title>
          <v-card-subtitle>–≠–Ω—ç —Å–∞—Ä—ã–Ω —Ü—ç–≤—ç—Ä –∞—à–∏–≥</v-card-subtitle>
          <v-card-text class="">
            <p class="text-h5 font-weight-bold orange--text ma-0">$42.8k</p>
            <p class="">78% ”©—Å”©–ª—Ç üöÄ</p> </v-card-text
          ><v-card-actions> </v-card-actions></v-card></v-col
      ><v-col cols="5"
        ><v-card class="fill-height">
          <v-card-title primary-title> –ó–∞—Ö–∏–∞–ª–≥—ã–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ </v-card-title>
          <v-card-subtitle> –≠–Ω—ç —Å–∞—Ä–¥ –Ω–∏–π—Ç 48.5%-–∏–π–Ω ”©—Å”©–ª—Ç üòé </v-card-subtitle>
          <v-card-text
            ><v-row
              ><v-col cols="2"
                ><v-card>
                  <v-card-title primary-title class="text-subtitle-2">
                    –ù–∏–π—Ç
                  </v-card-title>
                  <v-card-subtitle class="text-h5">{{
                    orders.length
                  }}</v-card-subtitle>
                </v-card></v-col
              ></v-row
            ></v-card-text
          >
        </v-card></v-col
      ><v-col cols="3"
        ><v-card class="fill-height">
          <v-card-title primary-title> –•“Ø—Ä–≥—ç–ª—Ç </v-card-title>
          <v-card-subtitle> –≠–Ω—ç —Å–∞—Ä–¥ –Ω–∏–π—Ç 48.5%-–∏–π–Ω ”©—Å”©–ª—Ç üòé </v-card-subtitle>
          <v-card-text
            ><v-row
              ><v-col v-for="item in 3" :key="item" cols="4"
                ><v-card>
                  <v-card-title primary-title class="text-subtitle-2">
                    TOTAL
                  </v-card-title>
                  <v-card-subtitle class="text-h5">{{
                    orders.length
                  }}</v-card-subtitle>
                </v-card></v-col
              ></v-row
            ></v-card-text
          >
        </v-card></v-col
      >
      <v-col cols="12"
        ><v-card>
          <v-card-title primary-title class="d-flex justify-space-between">
            –ó–∞—Ö–∏–∞–ª–≥—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç
            <div class="d-flex">
              <v-btn class="mx-2" small dark>–ë“Ø–≥–¥–∏–π–≥ —Å–æ–Ω–≥–æ—Ö</v-btn
              ><v-btn color="green" dark small
                >–ó–∞—Ö–∏–∞–ª–≥–∞ “Ø“Ø—Å–≥—ç—Ö <v-icon small>mdi-plus</v-icon></v-btn
              >
            </div>
          </v-card-title>
          <v-card-subtitle>2023/04/11</v-card-subtitle>
          <v-card-text>
            <v-text-field
              v-model="search"
              append-icon="mdi-magnify"
              label="–•–∞–π—Ö"
              single-line
              hide-details
              :loading="loading"
              loading-text="–£–Ω—à–∏–∂ –±–∞–π–Ω–∞... –¢“Ø—Ä —Ö“Ø–ª—ç—ç–Ω—ç “Ø“Ø"
              color="grey darken-3"
            ></v-text-field>
          </v-card-text>
          <v-data-table
            @click:row="selectOrder()"
            :footer-props="{
              'items-per-page-text': '–ù—ç–≥ –Ω“Ø“Ø—Ä—ç–Ω –¥—ç—Ö –º”©—Ä–∏–π–Ω —Ç–æ–æ',
            }"
            show-select
            :headers="headers"
            :items="orders"
            :search="search"
            ><template v-slot:no-results>
              <span>–ó–∞—Ö–∏–∞–ª–≥–∞ –æ–ª–¥—Å–æ–Ω–≥“Ø–π</span
              ><v-icon>mdi-clipboard-alert </v-icon>
            </template>
          </v-data-table>
        </v-card></v-col
      ></v-row
    >
  </v-container>
</template>

<script>
export default {
  data: () => ({
    loading: true,
    value: [
      423, 446, 675, 510, 590, 610, 760, 423, 446, 675, 510, 590, 610, 760,
    ],
    search: "",
    headers: [
      {
        text: "–ó–∞—Ö–∏–∞–ª–≥—ã–Ω –¥—É–≥–∞–∞—Ä",
        align: "start",
        value: "_id",
      },
      { text: "–ó–∞—Ö–∏–∞–ª–∞–≥—á", value: "orderby.firstname" },
      { text: "–¢”©–ª”©–≤", value: "orderStatus" },
      { text: "–£—Ç–∞—Å", value: "orderby.mobile" },
      { text: "–ò–º—ç–π–ª", value: "orderby.email" },
      { text: "–ë–∞—Ä–∞–∞–Ω—ã —Ç–æ–æ", value: "products.length" },
      { text: "–¢”©–ª–±”©—Ä", value: "paymentIntent.amount" },
      { text: "–û–Ω —Å–∞—Ä ”©–¥”©—Ä", value: "createdAt" },
    ],
    orders: [],
  }),

  async fetch() {
    let response = await this.$axios.get("/user/orders");
    if (response.status == 200) {
      this.orders = response.data;
      this.loading = false;
    }
  },
  methods: {
    formatPrice(value) {
      let val = (value / 1).toFixed(0).replace(".");
      return val.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + "‚ÇÆ";
    },
  },
};
</script>

<style></style>
