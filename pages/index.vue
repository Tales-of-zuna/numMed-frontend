<template>
  <v-container grid-list-xs>
    <v-row
      ><v-col lg="3" md="6" cols="12"
        ><v-card>
          <v-card-title primary-title>–≠–º–∏–π–Ω ”©—Ä—Ç”©–≥</v-card-title>
          <v-card-subtitle
            >”®–Ω–≥”©—Ä—Å”©–Ω —Å–∞—Ä–∞–∞—Å
            <span class="text--primary font-weight-bold"
              >{{ currentMonth }}-—Ä —Å–∞—Ä üòé</span
            >
            —ç–º–∏–π–Ω –Ω–∏–π–ª“Ø“Ø–ª—ç–ª—Ç</v-card-subtitle
          ><v-card-actions class="d-flex justify-space-between">
            <div class="d-flex justify-center align-center">
              <v-btn color="success" fab elevation="0" small
                ><v-icon>mdi-pill</v-icon></v-btn
              >
              <v-card-text class="text--secondary">
                <span class="text-h5 font-weight-bold text--primary">128</span>
                <br />
                –≠–º
              </v-card-text>
            </div>
            <div class="d-flex justify-center align-center">
              <v-btn dark color="indigo" fab elevation="0" small
                ><v-icon>mdi-toolbox</v-icon></v-btn
              >
              <v-card-text class="text--secondary">
                <span class="text-h5 font-weight-bold text--primary">128</span>
                <br />
                –¢”©—Ö”©”©—Ä”©–º–∂
              </v-card-text>
            </div>
            <div class="d-flex justify-center align-center">
              <v-btn color="yellow" fab elevation="0" small
                ><v-icon>mdi-pill</v-icon></v-btn
              >
              <v-card-text class="text--secondary"> hello </v-card-text>
            </div>
          </v-card-actions>
        </v-card> </v-col
      ><v-col lg="3" md="6" cols="12"
        ><v-card>
          <v-card-title primary-title> –ë“Ø—Ä—Ç–≥—ç–ª </v-card-title>
          <v-card-subtitle
            >”®–Ω–≥”©—Ä—Å”©–Ω —Å–∞—Ä–∞–∞—Å
            <span class="text--primary font-weight-bold">48.5% –∏–ª“Ø“Ø üòé</span>
            —ç–º–∏–π–Ω –Ω–∏–π–ª“Ø“Ø–ª—ç–ª—Ç</v-card-subtitle
          ><v-card-actions class="d-flex justify-space-between">
            <div class="d-flex justify-center align-center">
              <v-btn color="success" fab elevation="0" small
                ><v-icon>mdi-pill</v-icon></v-btn
              >
              <v-card-text class="text--secondary">
                <span class="text-h5 font-weight-bold text--primary">128</span>
                <br />
                –≠–º
              </v-card-text>
            </div>
            <div class="d-flex justify-center align-center">
              <v-btn dark color="indigo" fab elevation="0" small
                ><v-icon>mdi-toolbox</v-icon></v-btn
              >
              <v-card-text class="text--secondary">
                <span class="text-h5 font-weight-bold text--primary">128</span>
                <br />
                –¢”©—Ö”©”©—Ä”©–º–∂
              </v-card-text>
            </div>
            <div class="d-flex justify-center align-center">
              <v-btn color="yellow" fab elevation="0" small
                ><v-icon>mdi-pill</v-icon></v-btn
              >
              <v-card-text class="text--secondary"> hello </v-card-text>
            </div>
          </v-card-actions>
        </v-card>
      </v-col>
      <v-col lg="3" md="6" cols="12"
        ><v-card>
          <v-card-title primary-title> –ë“Ø—Ä—Ç–≥—ç–ª </v-card-title>
          <v-card-subtitle
            >”®–Ω–≥”©—Ä—Å”©–Ω —Å–∞—Ä–∞–∞—Å
            <span class="text--primary font-weight-bold">48.5% –∏–ª“Ø“Ø üòé</span>
            —ç–º–∏–π–Ω –Ω–∏–π–ª“Ø“Ø–ª—ç–ª—Ç</v-card-subtitle
          ><v-card-actions class="d-flex justify-space-between">
            <div class="d-flex justify-center align-center">
              <v-btn color="success" fab elevation="0" small
                ><v-icon>mdi-pill</v-icon></v-btn
              >
              <v-card-text class="text--secondary">
                <span class="text-h5 font-weight-bold text--primary">128</span>
                <br />
                –≠–º
              </v-card-text>
            </div>
            <div class="d-flex justify-center align-center">
              <v-btn dark color="indigo" fab elevation="0" small
                ><v-icon>mdi-toolbox</v-icon></v-btn
              >
              <v-card-text class="text--secondary">
                <span class="text-h5 font-weight-bold text--primary">128</span>
                <br />
                –¢”©—Ö”©”©—Ä”©–º–∂
              </v-card-text>
            </div>
            <div class="d-flex justify-center align-center">
              <v-btn color="yellow" fab elevation="0" small
                ><v-icon>mdi-pill</v-icon></v-btn
              >
              <v-card-text class="text--secondary"> hello </v-card-text>
            </div>
          </v-card-actions>
        </v-card>
      </v-col>
      <v-col lg="3" md="6" cols="12"
        ><v-card>
          <v-card-title primary-title> –ë“Ø—Ä—Ç–≥—ç–ª </v-card-title>
          <v-card-subtitle
            >”®–Ω–≥”©—Ä—Å”©–Ω —Å–∞—Ä–∞–∞—Å
            <span class="text--primary font-weight-bold">48.5% –∏–ª“Ø“Ø üòé</span>
            —ç–º–∏–π–Ω –Ω–∏–π–ª“Ø“Ø–ª—ç–ª—Ç</v-card-subtitle
          ><v-card-actions class="d-flex justify-space-between">
            <div class="d-flex justify-center align-center">
              <v-btn color="success" fab elevation="0" small
                ><v-icon>mdi-pill</v-icon></v-btn
              >
              <v-card-text class="text--secondary">
                <span class="text-h5 font-weight-bold text--primary">128</span>
                <br />
                –≠–º
              </v-card-text>
            </div>
            <div class="d-flex justify-center align-center">
              <v-btn dark color="indigo" fab elevation="0" small
                ><v-icon>mdi-toolbox</v-icon></v-btn
              >
              <v-card-text class="text--secondary">
                <span class="text-h5 font-weight-bold text--primary">128</span>
                <br />
                –¢”©—Ö”©”©—Ä”©–º–∂
              </v-card-text>
            </div>
            <div class="d-flex justify-center align-center">
              <v-btn color="yellow" fab elevation="0" small
                ><v-icon>mdi-pill</v-icon></v-btn
              >
              <v-card-text class="text--secondary"> hello </v-card-text>
            </div>
          </v-card-actions>
        </v-card>
      </v-col>
    </v-row>

    <v-row>
      <v-col cols="12"
        ><v-card>
          <v-card-title primary-title class="d-flex justify-space-between">
            –ó–∞—Ö–∏–∞–ª–≥—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç
            <div class="d-flex">
              <v-btn class="mx-2" small dark>–ë“Ø–≥–¥–∏–π–≥ —Å–æ–Ω–≥–æ—Ö</v-btn
              ><v-btn color="green" dark small
                >–ó–∞—Ö–∏–∞–ª–≥–∞ “Ø“Ø—Å–≥—ç—Ö <v-icon small>mdi-plus</v-icon></v-btn
              >
            </div>
          </v-card-title>
          <v-card-subtitle>2023/04/11</v-card-subtitle>
          <v-card-text>
            <v-text-field
              v-model="search"
              append-icon="mdi-magnify"
              label="–•–∞–π—Ö"
              single-line
              hide-details
              :loading="loading"
              loading-text="–£–Ω—à–∏–∂ –±–∞–π–Ω–∞... –¢“Ø—Ä —Ö“Ø–ª—ç—ç–Ω—ç “Ø“Ø"
              color="grey darken-3"
            ></v-text-field>
          </v-card-text>
          <v-data-table
            @click:row="selectOrder()"
            :footer-props="{
              'items-per-page-text': '–ù—ç–≥ –Ω“Ø“Ø—Ä—ç–Ω –¥—ç—Ö –º”©—Ä–∏–π–Ω —Ç–æ–æ',
            }"
            show-select
            :headers="headers"
            :items="orders"
            :search="search"
            ><template v-slot:no-results>
              <span>–ó–∞—Ö–∏–∞–ª–≥–∞ –æ–ª–¥—Å–æ–Ω–≥“Ø–π</span
              ><v-icon>mdi-clipboard-alert </v-icon>
            </template>
          </v-data-table>
        </v-card></v-col
      ></v-row
    >
  </v-container>
</template>

<script>
export default {
  data: () => ({
    loading: true,
    value: [
      423, 446, 675, 510, 590, 610, 760, 423, 446, 675, 510, 590, 610, 760,
    ],
    search: "",
    headers: [
      {
        text: "–ó–∞—Ö–∏–∞–ª–≥—ã–Ω –¥—É–≥–∞–∞—Ä",
        align: "start",
        value: "_id",
      },
      { text: "–ó–∞—Ö–∏–∞–ª–∞–≥—á", value: "orderby.firstname" },
      { text: "–¢”©–ª”©–≤", value: "orderStatus" },
      { text: "–£—Ç–∞—Å", value: "orderby.mobile" },
      { text: "–ò–º—ç–π–ª", value: "orderby.email" },
      { text: "–ë–∞—Ä–∞–∞–Ω—ã —Ç–æ–æ", value: "products.length" },
      { text: "–¢”©–ª–±”©—Ä", value: "paymentIntent.amount" },
      { text: "–û–Ω —Å–∞—Ä ”©–¥”©—Ä", value: "createdAt" },
    ],
    orders: [],
  }),

  async fetch() {
    let response = await this.$axios.get("/user/orders");
    if (response.status == 200) {
      this.orders = response.data;
      this.loading = false;
    }
  },
  methods: {
    formatPrice(value) {
      let val = (value / 1).toFixed(0).replace(".");
      return val.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + "‚ÇÆ";
    },
  },
};
</script>

<style></style>
